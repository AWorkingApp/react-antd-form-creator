"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-dnd"),r=require("react-dnd-html5-backend"),n=require("antd"),a=require("react-signature-canvas"),l=require("antd/node_modules/rc-picker/lib/generate/dayjs"),o=require("antd/lib/date-picker/generatePicker");require("antd/lib/date-picker/style/index");var i=require("dayjs");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var s=u(e),f=c(e),d=u(a),m=u(l),p=u(o),y=u(i),b="card",g="box",v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),E={};function h(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}E.uuid=function(e,t){var r,n,a=v,l=[];if(t=t||a.length,e)for(r=0;r<e;r++)l[r]=a[0|Math.random()*t];else for(l[8]=l[13]=l[18]=l[23]="-",l[14]="4",r=0;r<36;r++)l[r]||(n=0|16*Math.random(),l[r]=a[19==r?3&n|8:n]);return l.join("")},E.uuidFast=function(){for(var e,t=v,r=new Array(36),n=0,a=0;a<36;a++)8==a||13==a||18==a||23==a?r[a]="-":14==a?r[a]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,r[a]=t[19==a?3&e|8:e]);return r.join("")},E.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))};h(".toolbar-item-module_item__R1Ruk{border:1px dashed #ddd;cursor:pointer;display:flex;justify-content:flex-start;list-style:none;margin:5px;padding:10px}.toolbar-item-module_item__R1Ruk>div{margin-right:10px}");const x={beginDrag:e=>({...e.data.fieldProps,id:E.uuid().toLowerCase(),type:e.data.key,field_name:"field_"+E.uuid().toLowerCase()})};var k=t.DragSource(b,x,(e=>({connectDragSource:e.dragSource()})))((e=>{const{connectDragSource:t,data:r,onClick:n}=e;return t?s.default.createElement("div",{ref:t,onClick:n},r.name):null}));const _=[{key:"Header",name:"Header Text",icon:"fas fa-heading",fieldProps:{content:"Header"}},{key:"Paragraph",name:"Paragraph",icon:"fas fa-paragraph",fieldProps:{content:"Your text"}},{key:"LineBreak",name:"Line Break",icon:"fas fa-arrows-alt-h",fieldProps:{content:"Divider",plain:!1,dashed:!1}},{key:"Image",name:"Image",icon:"far fa-image",fieldProps:{field_name:"image_",src:"",alt:"Update URL"}},{key:"Dropdown",name:"Dropdown",icon:"far fa-caret-square-down",fieldProps:{field_name:"dropdown_",label:"Select",options:[{label:"Option 1",value:"Option 1"},{label:"Option 2",value:"Option 2"},{label:"Option 3",value:"Option 3"}],rules:[{required:!1,message:"Select value from list"}]}},{key:"Tags",name:"Tags",icon:"fas fa-tags",fieldProps:{field_name:"tags_",label:"Tag",options:[{label:"Option 1",value:"Option 1"},{label:"Option 2",value:"Option 2"},{label:"Option 3",value:"Option 3"}],rules:[{required:!1,message:"Select atleast one tag"}]}},{key:"Checkboxes",name:"Checkboxes",icon:"far fa-check-square",fieldProps:{field_name:"checkboxes_",label:"Checkbox",options:[{label:"Option 1",value:"Option 1"},{label:"Option 2",value:"Option 2"},{label:"Option 3",value:"Option 3"}],rules:[{required:!1,message:"Select atleast one option"}]}},{key:"RadioButtons",name:"Multiple Choice",icon:"far fa-dot-circle",fieldProps:{field_name:"radiobuttons_",label:"Options",options:[{label:"Option 1",value:"Option 1"},{label:"Option 2",value:"Option 2"},{label:"Option 3",value:"Option 3"}],rules:[{required:!1,message:"Choose any one option"}]}},{key:"TextInput",name:"Text Input",icon:"fas fa-font",fieldProps:{field_name:"text_input_",label:"Label",rules:[{required:!1,message:"Please enter value"}]}},{key:"NumberInput",name:"Number Input",icon:"fas fa-plus",fieldProps:{field_name:"number_input_",label:"Label",rules:[{required:!1,message:"Please enter value"}]}},{key:"TextArea",name:"Multi-line Input",icon:"fas fa-text-height",fieldProps:{field_name:"text_area_",label:"Label",rules:[{required:!1,message:"Please enter value"}]}},{key:"Rating",name:"Rating",icon:"fas fa-star",fieldProps:{field_name:"rating_",label:"Rate",allowClear:!0,allowHalf:!1,count:5,rules:[{required:!1,message:"Please rate"}]}},{key:"DatePicker",name:"Date",icon:"far fa-calendar-alt",fieldProps:{field_name:"date_picker_",label:"Date",allowClear:!0,format:"MM/DD/YYYY",rules:[{required:!1,message:"Please select date"}]}},{key:"TimePicker",name:"Time",icon:"far fa-clock",fieldProps:{field_name:"time_picker_",label:"Time",format:"hh:mm a",allowClear:!0,hourStep:1,minuteStep:1,rules:[{required:!1,message:"Please select time"}]}},{key:"Signature",name:"Signature",icon:"fas fa-pen-square",fieldProps:{field_name:"signature_",label:"Signature",rules:[{required:!1,message:"Please sing form"}]}},{key:"Photo",name:"Photo",icon:"fa fa-camera",fieldProps:{field_name:"photo_",label:"Photo",multiple:!0,accept:"image/png, image/jpeg",rules:[{required:!1,message:"Upload atleast one photo"}]}},{key:"File",name:"File Attachment",icon:"fas fa-file",fieldProps:{field_name:"file_",label:"Attach File",static:!0,maxCount:5,multiple:!0,rules:[{required:!1,message:"Upload atleast one file"}]}},{key:"Range",name:"Range",icon:"fas fa-sliders-h",fieldProps:{field_name:"range_",label:"Label",step:1,min:1,max:5,minLabel:"Easy",maxLabel:"Difficult"}}];const S=({fields:t,fieldProps:r,...a})=>{const[l,o]=e.useState([]);return e.useEffect((()=>{o(function(e,t=[],r){let n=[];return e||(n=r),n=n.map((e=>{let r=t.find((t=>e.key===t.key));return r&&(e.fieldProps={...e.fieldProps,...r.fieldProps}),e})),n}(t,r,_))}),[t,r]),s.default.createElement(n.Menu,{theme:"light",mode:"inline",defaultSelectedKeys:["4"]},l.map((e=>s.default.createElement(n.Menu.Item,{key:e.key,icon:s.default.createElement("i",{className:e.icon}),style:{border:"1px solid #efefef"}},s.default.createElement(k,{data:e,key:e.key})))))},O=s.default.createContext({elements:[],setElements:()=>{}});function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}const w=({value:t,onChange:r})=>{const a=e.useRef({});e.useEffect((()=>{t&&a&&(a.current.clear(),a.current.fromDataURL(t))}),[]);return s.default.createElement("div",{style:{width:"300px",height:"150px",border:"1px solid #aaa",borderRadius:"10px",position:"relative"}},s.default.createElement(d.default,{ref:a,onEnd:e=>{r?.(a.current.toDataURL("image/png"))},canvasProps:{width:300,height:150}}),s.default.createElement(n.Button,{type:"text",onClick:()=>{a.current.clear(),r?.(null)},style:{position:"absolute",right:0,bottom:0}},s.default.createElement("i",{className:"fa fa-trash"})))},C=p.default(m.default),I=f.forwardRef(((e,t)=>f.createElement(C,P({},e,{picker:"time",mode:void 0,ref:t}))));I.displayName="TimePicker";const T=({action:e,value:t,onChange:r,children:a,listType:l,onPreview:o,multiple:i=!0,...u})=>{const[c,f]=s.default.useState(!1),[d,m]=s.default.useState(""),[p,y]=s.default.useState("");return s.default.createElement(s.default.Fragment,null,s.default.createElement(n.Upload,P({action:e,onChange:({fileList:e})=>{let t=e.map((e=>({uid:e.uid,name:e.name,status:e.status,url:e.url?e.url:e.response?.url})));r?.(t)},listType:l,multiple:i,fileList:t||null,onPreview:o||("picture-card"===l?async e=>{e.url||e.preview||(e.preview=await function(e){return new Promise(((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=e=>r(e)}))}(e.originFileObj)),f(!0),m(e.url||e.preview),y(e.name||e.url.substring(e.url.lastIndexOf("/")+1))}:null)},u),a||s.default.createElement("div",null,"Click or Drag ",s.default.createElement("br",null),"file")),s.default.createElement(n.Modal,{visible:c,title:p,footer:null,onCancel:e=>f(!1)},s.default.createElement("img",{alt:p,style:{width:"100%"},src:d})))},j=({element:e})=>{const{dropEffect:t,type:r,id:a,label:l,field_name:o,rules:i,...u}=e,c=e=>s.default.createElement(n.Form.Item,{label:l,key:o,name:o,rules:i},e);return(()=>{switch(r){case"Header":return s.default.createElement("h1",null,u.content);case"Paragraph":return s.default.createElement("p",null,u.content);case"LineBreak":{const{content:e,...t}=u;return s.default.createElement(n.Divider,t,e)}case"Image":return""===u.src&&(u.src="https://via.placeholder.com/728x90.png?text=Place+Your+Image+Here"),s.default.createElement("div",null,s.default.createElement("img",{src:u.src,alt:u.alt}));case"TextInput":return c(s.default.createElement(n.Input,u));case"NumberInput":return c(s.default.createElement(n.InputNumber,u));case"Dropdown":return c(s.default.createElement(n.Select,u));case"Tags":return c(s.default.createElement(n.Select,P({mode:"tags"},u)));case"Checkboxes":return c(s.default.createElement(n.Checkbox.Group,u));case"RadioButtons":return c(s.default.createElement(n.Radio.Group,u));case"TextArea":return c(s.default.createElement(n.Input.TextArea,u));case"DatePicker":return c(s.default.createElement(C,u));case"TimePicker":return c(s.default.createElement(I,u));case"Range":const e={[u.min]:u.minLabel,[u.max]:u.maxLabel};return c(s.default.createElement(n.Slider,P({},u,{marks:e})));case"Rating":return c(s.default.createElement(n.Rate,u));case"Signature":return c(s.default.createElement(w,u));case"File":return c(s.default.createElement(T,u,s.default.createElement(n.Button,null,s.default.createElement("i",{className:"fas fa-upload"})," Upload")));case"Photo":return c(s.default.createElement(T,P({},u,{listType:"picture-card"}),s.default.createElement("div",null,s.default.createElement("div",{style:{marginTop:8}},s.default.createElement("i",{className:"far fa-images"}),"  Upload"))));default:return s.default.createElement("div",null,JSON.stringify(u))}})()},R=({element:e,value:t,...r})=>{const{type:a,...l}=e;return(()=>{switch(a){case"Header":return s.default.createElement("h1",null,l.content);case"Paragraph":return s.default.createElement("p",null,l.content);case"LineBreak":{const{content:e,...t}=l;return s.default.createElement(n.Divider,t,e)}case"Image":return""===l.src&&(l.src="https://via.placeholder.com/728x90.png?text=Place+Your+Image+Here"),s.default.createElement("img",{src:l.src,alt:l.alt});case"TextInput":case"NumberInput":case"Dropdown":case"RadioButtons":return s.default.createElement("div",null,t);case"File":return s.default.createElement(s.default.Fragment,null,t?.map(((e,t)=>s.default.createElement("div",{key:t},s.default.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.name)))));case"Photo":return s.default.createElement(n.Image.PreviewGroup,null,t?.map(((e,t)=>s.default.createElement(n.Image,{width:200,src:e.url,key:t,style:{padding:"5px"}}))));case"Checkboxes":return s.default.createElement("div",null,t?.join(", "));case"Tags":return s.default.createElement("div",null,t?.map(((e,t)=>s.default.createElement(n.Tag,{key:t},e))));case"Rating":return s.default.createElement(n.Rate,{disabled:!0,value:t});case"DatePicker":case"TimePicker":return console.log(t),s.default.createElement("div",null,t?y.default(t).format(l.format):null);case"TextArea":return s.default.createElement("pre",null,t);case"Signature":return s.default.createElement("img",{src:t,alt:"Signature"});case"Range":const e={[l.min]:l.minLabel,[l.max]:l.maxLabel},{minLabel:r,maxLabel:o,...i}=l;return s.default.createElement(n.Slider,P({value:t,marks:e,onChange:e=>{}},i));default:throw new Error(`Unknown element type: ${a}`)}})()},D=({elements:e,form:t,...r})=>s.default.createElement(s.default.Fragment,null,e.map((e=>s.default.createElement(j,{key:e.id,element:e}))));var N={exports:{}},$={exports:{}},F={},A="function"==typeof Symbol&&Symbol.for,M=A?Symbol.for("react.element"):60103,L=A?Symbol.for("react.portal"):60106,q=A?Symbol.for("react.fragment"):60107,B=A?Symbol.for("react.strict_mode"):60108,V=A?Symbol.for("react.profiler"):60114,U=A?Symbol.for("react.provider"):60109,z=A?Symbol.for("react.context"):60110,H=A?Symbol.for("react.async_mode"):60111,Y=A?Symbol.for("react.concurrent_mode"):60111,W=A?Symbol.for("react.forward_ref"):60112,K=A?Symbol.for("react.suspense"):60113,J=A?Symbol.for("react.suspense_list"):60120,G=A?Symbol.for("react.memo"):60115,Q=A?Symbol.for("react.lazy"):60116,Z=A?Symbol.for("react.block"):60121,X=A?Symbol.for("react.fundamental"):60117,ee=A?Symbol.for("react.responder"):60118,te=A?Symbol.for("react.scope"):60119;function re(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case M:switch(e=e.type){case H:case Y:case q:case V:case B:case K:return e;default:switch(e=e&&e.$$typeof){case z:case W:case Q:case G:case U:return e;default:return t}}case L:return t}}}function ne(e){return re(e)===Y}F.AsyncMode=H,F.ConcurrentMode=Y,F.ContextConsumer=z,F.ContextProvider=U,F.Element=M,F.ForwardRef=W,F.Fragment=q,F.Lazy=Q,F.Memo=G,F.Portal=L,F.Profiler=V,F.StrictMode=B,F.Suspense=K,F.isAsyncMode=function(e){return ne(e)||re(e)===H},F.isConcurrentMode=ne,F.isContextConsumer=function(e){return re(e)===z},F.isContextProvider=function(e){return re(e)===U},F.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===M},F.isForwardRef=function(e){return re(e)===W},F.isFragment=function(e){return re(e)===q},F.isLazy=function(e){return re(e)===Q},F.isMemo=function(e){return re(e)===G},F.isPortal=function(e){return re(e)===L},F.isProfiler=function(e){return re(e)===V},F.isStrictMode=function(e){return re(e)===B},F.isSuspense=function(e){return re(e)===K},F.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===q||e===Y||e===V||e===B||e===K||e===J||"object"==typeof e&&null!==e&&(e.$$typeof===Q||e.$$typeof===G||e.$$typeof===U||e.$$typeof===z||e.$$typeof===W||e.$$typeof===X||e.$$typeof===ee||e.$$typeof===te||e.$$typeof===Z)},F.typeOf=re;var ae={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,i=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,s=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var d=e.$$typeof;switch(d){case t:var y=e.type;switch(y){case u:case c:case n:case l:case a:case f:return y;default:var b=y&&y.$$typeof;switch(b){case i:case s:case p:case m:case o:return b;default:return d}}case r:return d}}}var h=u,x=c,k=i,_=o,S=t,O=s,P=n,w=p,C=m,I=r,T=l,j=a,R=f,D=!1;function N(e){return E(e)===c}ae.AsyncMode=h,ae.ConcurrentMode=x,ae.ContextConsumer=k,ae.ContextProvider=_,ae.Element=S,ae.ForwardRef=O,ae.Fragment=P,ae.Lazy=w,ae.Memo=C,ae.Portal=I,ae.Profiler=T,ae.StrictMode=j,ae.Suspense=R,ae.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),N(e)||E(e)===u},ae.isConcurrentMode=N,ae.isContextConsumer=function(e){return E(e)===i},ae.isContextProvider=function(e){return E(e)===o},ae.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},ae.isForwardRef=function(e){return E(e)===s},ae.isFragment=function(e){return E(e)===n},ae.isLazy=function(e){return E(e)===p},ae.isMemo=function(e){return E(e)===m},ae.isPortal=function(e){return E(e)===r},ae.isProfiler=function(e){return E(e)===l},ae.isStrictMode=function(e){return E(e)===a},ae.isSuspense=function(e){return E(e)===f},ae.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===c||e===l||e===a||e===f||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===m||e.$$typeof===o||e.$$typeof===i||e.$$typeof===s||e.$$typeof===b||e.$$typeof===g||e.$$typeof===v||e.$$typeof===y)},ae.typeOf=E}(),"production"===process.env.NODE_ENV?$.exports=F:$.exports=ae
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var le=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;function ue(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var ce=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,a=ue(e),l=1;l<arguments.length;l++){for(var o in r=Object(arguments[l]))oe.call(r,o)&&(a[o]=r[o]);if(le){n=le(r);for(var i=0;i<n.length;i++)ie.call(r,n[i])&&(a[n[i]]=r[n[i]])}}return a},se="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fe=function(){};if("production"!==process.env.NODE_ENV){var de=se,me={},pe=Function.call.bind(Object.prototype.hasOwnProperty);fe=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function ye(e,t,r,n,a){if("production"!==process.env.NODE_ENV)for(var l in e)if(pe(e,l)){var o;try{if("function"!=typeof e[l]){var i=Error((n||"React class")+": "+r+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[l]+"`.");throw i.name="Invariant Violation",i}o=e[l](t,l,n,r,null,de)}catch(e){o=e}if(!o||o instanceof Error||fe((n||"React class")+": type specification of "+r+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in me)){me[o.message]=!0;var u=a?a():"";fe("Failed "+r+" type: "+o.message+(null!=u?u:""))}}}ye.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(me={})};var be=ye,ge=$.exports,ve=ce,Ee=se,he=be,xe=Function.call.bind(Object.prototype.hasOwnProperty),ke=function(){};function _e(){return null}"production"!==process.env.NODE_ENV&&(ke=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});function Se(){}function Oe(){}Oe.resetWarningCache=Se;if("production"!==process.env.NODE_ENV){var Pe=$.exports;N.exports=function(e,t){var r="function"==typeof Symbol&&Symbol.iterator,n="<<anonymous>>",a={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),symbol:u("symbol"),any:i(_e),arrayOf:function(e){return i((function(t,r,n,a,l){if("function"!=typeof e)return new o("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=t[r];if(!Array.isArray(i))return new o("Invalid "+a+" `"+l+"` of type `"+s(i)+"` supplied to `"+n+"`, expected an array.");for(var u=0;u<i.length;u++){var c=e(i,u,n,a,l+"["+u+"]",Ee);if(c instanceof Error)return c}return null}))},element:i((function(t,r,n,a,l){var i=t[r];return e(i)?null:new o("Invalid "+a+" `"+l+"` of type `"+s(i)+"` supplied to `"+n+"`, expected a single ReactElement.")})),elementType:i((function(e,t,r,n,a){var l=e[t];return ge.isValidElementType(l)?null:new o("Invalid "+n+" `"+a+"` of type `"+s(l)+"` supplied to `"+r+"`, expected a single ReactElement type.")})),instanceOf:function(e){return i((function(t,r,a,l,i){if(!(t[r]instanceof e)){var u=e.name||n;return new o("Invalid "+l+" `"+i+"` of type `"+((c=t[r]).constructor&&c.constructor.name?c.constructor.name:n)+"` supplied to `"+a+"`, expected instance of `"+u+"`.")}var c;return null}))},node:i((function(e,t,r,n,a){return c(e[t])?null:new o("Invalid "+n+" `"+a+"` supplied to `"+r+"`, expected a ReactNode.")})),objectOf:function(e){return i((function(t,r,n,a,l){if("function"!=typeof e)return new o("Property `"+l+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var i=t[r],u=s(i);if("object"!==u)return new o("Invalid "+a+" `"+l+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var c in i)if(xe(i,c)){var f=e(i,c,n,a,l+"."+c,Ee);if(f instanceof Error)return f}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&ke(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),_e;function t(t,r,n,a,i){for(var u=t[r],c=0;c<e.length;c++)if(l(u,e[c]))return null;var s=JSON.stringify(e,(function(e,t){return"symbol"===f(t)?String(t):t}));return new o("Invalid "+a+" `"+i+"` of value `"+String(u)+"` supplied to `"+n+"`, expected one of "+s+".")}return i(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&ke("Invalid argument supplied to oneOfType, expected an instance of array."),_e;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return ke("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+d(r)+" at index "+t+"."),_e}return i((function(t,r,n,a,l){for(var i=0;i<e.length;i++)if(null==(0,e[i])(t,r,n,a,l,Ee))return null;return new o("Invalid "+a+" `"+l+"` supplied to `"+n+"`.")}))},shape:function(e){return i((function(t,r,n,a,l){var i=t[r],u=s(i);if("object"!==u)return new o("Invalid "+a+" `"+l+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var d=f(i,c,n,a,l+"."+c,Ee);if(d)return d}}return null}))},exact:function(e){return i((function(t,r,n,a,l){var i=t[r],u=s(i);if("object"!==u)return new o("Invalid "+a+" `"+l+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");var c=ve({},t[r],e);for(var f in c){var d=e[f];if(!d)return new o("Invalid "+a+" `"+l+"` key `"+f+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=d(i,f,n,a,l+"."+f,Ee);if(m)return m}return null}))}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function o(e){this.message=e,this.stack=""}function i(e){if("production"!==process.env.NODE_ENV)var r={},a=0;function l(l,i,u,c,s,f,d){if(c=c||n,f=f||u,d!==Ee){if(t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var p=c+":"+u;!r[p]&&a<3&&(ke("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[p]=!0,a++)}}return null==i[u]?l?null===i[u]?new o("The "+s+" `"+f+"` is marked as required in `"+c+"`, but its value is `null`."):new o("The "+s+" `"+f+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(i,u,c,s,f)}var i=l.bind(null,!1);return i.isRequired=l.bind(null,!0),i}function u(e){return i((function(t,r,n,a,l,i){var u=t[r];return s(u)!==e?new o("Invalid "+a+" `"+l+"` of type `"+f(u)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var n=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!n)return!1;var a,l=n.call(t);if(n!==t.entries){for(;!(a=l.next()).done;)if(!c(a.value))return!1}else for(;!(a=l.next()).done;){var o=a.value;if(o&&!c(o[1]))return!1}return!0;default:return!1}}function s(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function f(e){if(null==e)return""+e;var t=s(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function d(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return o.prototype=Error.prototype,a.checkPropTypes=he,a.resetWarningCache=he.resetWarningCache,a.PropTypes=a,a}(Pe.isElement,!0)}else N.exports=function(){function e(e,t,r,n,a,l){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==l){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Oe,resetWarningCache:Se};return r.PropTypes=r,r}();var we=N.exports;const Ce=({elements:e,values:t,descriptionProps:r,descriptionItemProps:a,...l})=>e.reduce(((e,t,r)=>{if("Header"===t.type||"Paragraph"===t.type||"LineBreak"===t.type||"Image"===t.type)e.push(t);else{const r=e[e.length-1];Array.isArray(r)?(r.push(t),e[e.length-1]=r):e.push([t])}return e}),[]).map((e=>{if(Array.isArray(e))return s.default.createElement(n.Descriptions,r,e.map(((e,r)=>{const l=t?.[e.field_name];return s.default.createElement(n.Descriptions.Item,P({key:e.id,label:e.label},a),s.default.createElement(R,{key:e.id,element:e,value:l}))})));{const r=t?.[e.field_name];return s.default.createElement(R,{key:e.id,element:e,value:r})}}));Ce.defaultProps={descriptionProps:{bordered:!0,size:"small",column:{sm:1,xs:1}},descriptionItemProps:{labelStyle:{width:"20%"}}},Ce.propTypes={elements:we.array.isRequired,values:we.object.isRequired,descriptionProps:we.object,descriptionItemProps:we.object};var Ie="drop-zone-module_dropzone__U0plI";h(".drop-zone-module_dropzone__U0plI{min-height:300px};");var Te="sortable-elements-module_element__QKnFt",je="sortable-elements-module_sorter__1BEVs",Re="sortable-elements-module_action__lyZFh",De="sortable-elements-module_formitem__hfy0k";h(".sortable-elements-module_element__QKnFt{border:1px solid transparent;display:flex;justify-content:flex-start;padding:.2rem;position:relative}.sortable-elements-module_element__QKnFt:hover{background-color:ivory;border:1px solid #0000002c}.sortable-elements-module_sorter__1BEVs{cursor:all-scroll;flex:0 0 40px;margin-right:20px}.sortable-elements-module_action__lyZFh{background-color:#0000002c;border-bottom-left-radius:4px;border-bottom-right-radius:4px;float:left;position:absolute;right:0;top:0}.sortable-elements-module_formitem__hfy0k{flex:1 1 auto}");const Ne=({element:r,index:a,onMove:l,onEdit:o,onDelete:i})=>{const u=e.useRef(null),[c,f]=e.useState(!1),[{handlerId:d},m]=t.useDrop({accept:g,collect:e=>({handlerId:e.getHandlerId()}),hover(e,t){if(!u.current)return;const r=e.index,n=a;if(r===n)return;const o=u.current?.getBoundingClientRect(),i=(o.bottom-o.top)/2,c=t.getClientOffset().y-o.top;r<n&&c<i||r>n&&c>i||(l(r,n),e.index=n)}}),[{isDragging:p},y,b]=t.useDrag({type:g,item:()=>({id:r.id,index:a}),collect:e=>({isDragging:e.isDragging()})}),v=p?.6:1;return y(m(u)),s.default.createElement("div",{ref:b,className:Te,style:{opacity:v},"data-handler-id":d,onMouseOver:e=>f(!0),onMouseOut:e=>f(!1)},s.default.createElement("div",{className:je,ref:u},s.default.createElement("i",{className:"fas fa-grip-vertical",style:{margin:"10px",color:"#ccc"}})),s.default.createElement("div",{className:De},s.default.createElement(j,{element:r})),s.default.createElement("div",{className:Re,style:{display:c?"block":"none"}},s.default.createElement(n.Button,{type:"link",onClick:e=>{o&&o(r,a)}},s.default.createElement("i",{className:"fas fa-edit"})),s.default.createElement(n.Button,{type:"link",danger:!0,onClick:e=>{i&&i(r,a)}},s.default.createElement("i",{className:"fas fa-trash"}))))},$e=e=>s.default.createElement(n.Form.List,{name:e.name},((e,{add:t,remove:r})=>s.default.createElement(n.Form.Item,{label:"Options"},e.map((e=>s.default.createElement(n.Space,{key:e.key,align:"baseline"},s.default.createElement(n.Form.Item,P({},e,{name:[e.name,"label"]}),s.default.createElement(n.Input,{placeholder:"Label"})),s.default.createElement(n.Form.Item,P({},e,{name:[e.name,"value"]}),s.default.createElement(n.Input,{placeholder:"Value"})),s.default.createElement("i",{className:"fa fa-minus-circle",onClick:()=>r(e.name)})))),s.default.createElement(n.Form.Item,null,s.default.createElement(n.Button,{type:"dashed",onClick:()=>t(),block:!0},"Add Option"))))),Fe=e=>s.default.createElement(n.Form.List,{name:e.name},(t=>s.default.createElement(n.Form.Item,{label:"Validations"},t.map(((t,r)=>s.default.createElement(n.Space,{key:t.key,align:"baseline"},Object.keys(e.value[r]).map((n=>Me([t.name,n],e.value[r][n]))))))))),Ae=e=>(Array.isArray(e)&&(e=e[e.length-1]),"string"==typeof e?e.replace(/([A-Z])/g,(e=>` ${e}`)).replace(/^./,(e=>e.toUpperCase())).trim():e),Me=(e,t)=>{let r="TextArea",n=[];switch(typeof t){case"boolean":return r="RadioButtons",n=[{label:"Yes",value:!0},{label:"No",value:!1}],React.createElement(j,{key:e,element:{field_name:e,options:n,label:Ae(e),type:r}});case"string":return r="content"===e?"TextArea":"TextInput",React.createElement(j,{element:{field_name:e,options:n,label:Ae(e),type:r}});case"number":return r="NumberInput",React.createElement(j,{key:e,element:{field_name:e,options:n,label:Ae(e),type:r}});case"object":if("options"===e)return React.createElement($e,{key:e,name:["options"]});if("rules"===e)return React.createElement(Fe,{key:e,name:["rules"],value:t});break;default:return r="TextArea",React.createElement(j,{key:e,element:{field_name:e,options:n,label:Ae(e),type:r}})}},Le=({element:t,show:r,onClose:a,onSubmit:l})=>{const{type:o,id:i,dropEffect:u,field_name:c,...f}=t||{type:null,id:null,dropEffecct:null,field_name:null},[d]=n.Form.useForm(),[m,p]=e.useState(!1);e.useEffect((()=>{d.setFieldsValue(f)}),[f,d]),e.useEffect((()=>{m||a?.()}),[m,a]),e.useEffect((()=>{r&&p(r)}),[r]);return s.default.createElement(n.Drawer,{title:"Edit Properties",onClose:e=>p(!1),visible:m,footer:s.default.createElement(n.Space,null,s.default.createElement(n.Button,{type:"primary",onClick:e=>{d.submit()}},"Submit"),s.default.createElement(n.Button,{style:{marginRight:8},onClick:e=>p(!1)},"Cancel"))},s.default.createElement(n.Form,{form:d,onFinish:e=>{l?.(e),p(!1)},labelAlign:"left",colon:!0,requiredMark:!0,layout:"vertical",labelCol:{span:8}},Object.keys(f).map((e=>Me(e,f[e])))))},qe=({elements:r,onUpdate:a})=>{const[l,o]=e.useState(!1),[i,u]=e.useState(null),[c,f]=e.useState(null),[{canDrop:d,isOver:m,draggedItem:p},y]=t.useDrop((()=>({accept:b,drop:(e,t)=>e,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop(),draggedItem:e.getDropResult()})})));e.useEffect((()=>{p&&r&&a&&p.id&&a([...r,p])}),[p,r,a]);const g=e.useCallback(((e,t)=>{let n=[...r];[n[e],n[t]]=[n[t],n[e]],a(n)}),[r,a]),v=(e,t)=>{u(e),f(t),o(!0)},E=(e,t)=>{a?.(r.filter(((e,r)=>t!==r)))};let h="#fff";return(d&&m||d)&&(h="#eee"),s.default.createElement("div",{ref:y,className:Ie,style:{backgroundColor:h}},s.default.createElement(n.Form,{labelAlign:"right",colon:!0,requiredMark:!0,labelCol:{span:5}},r.map(((e,t)=>s.default.createElement(Ne,{key:e.id,index:t,element:e,onMove:g,onEdit:v,onDelete:E})))),s.default.createElement(Le,{show:l,element:i,onClose:e=>o(!1),onSubmit:e=>{const t={...i,...e};a?.(r.map(((e,r)=>c!==r?e:t)))}}))},{Sider:Be,Content:Ve}=n.Layout,{TabPane:Ue}=n.Tabs;exports.FormBuilder=({fields:a=[],onUpdate:l,fieldProps:o,...i})=>{const[u,c]=e.useState([]),[f,d]=e.useState(!1),[m,p]=e.useState({});e.useEffect((()=>{a&&a.length&&c(a)}),[a]);return s.default.createElement(t.DndProvider,{backend:r.HTML5Backend},s.default.createElement(O.Provider,{value:{elements:u,setElements:c}},s.default.createElement(n.Tabs,{defaultActiveKey:"1",centered:!0},s.default.createElement(Ue,{tab:"Editor",key:"1"},s.default.createElement(n.Layout,{style:{height:"100%",display:"flex",alignItems:"stretch",gap:"10px"}},s.default.createElement(Be,{theme:"light",width:250,breakpoint:"md",collapsedWidth:0},s.default.createElement(S,{fieldProps:o})),s.default.createElement(Ve,{style:{backgroundColor:"#fff"}},s.default.createElement(qe,{elements:u,onUpdate:e=>{c([...e]),l?.(e)}})))),s.default.createElement(Ue,{tab:"Preview",key:"2"},s.default.createElement(n.Row,null,s.default.createElement(n.Col,{span:2}),s.default.createElement(n.Col,{span:20},s.default.createElement(n.Form,{onFinish:e=>{p(e),d(!0)},labelAlign:"left",colon:!0,requiredMark:!0,labelCol:{span:3},onSubmit:!0},s.default.createElement(D,{elements:u}),s.default.createElement(n.Button,{type:"primary",htmlType:"submit"},"Submit"))),s.default.createElement(n.Col,{span:2})))),s.default.createElement(n.Modal,{title:"View",footer:null,width:"90%",visible:f,onCancel:e=>d(!1),style:{width:"100%",resize:"auto"}},s.default.createElement(Ce,{elements:u,values:m}))))},exports.FormRenderer=D,exports.FormViewer=Ce;
